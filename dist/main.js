!function(e){var t={};function o(n){if(t[n])return t[n].exports;var l=t[n]={i:n,l:!1,exports:{}};return e[n].call(l.exports,l,l.exports,o),l.l=!0,l.exports}o.m=e,o.c=t,o.d=function(e,t,n){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},o.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(e,t){if(1&t&&(e=o(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(o.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var l in e)o.d(n,l,function(t){return e[t]}.bind(null,l));return n},o.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="",o(o.s=0)}([function(e,t,o){"use strict";o.r(t);var n=()=>{const e=document.querySelectorAll(".panel-collapse"),t=document.querySelectorAll(".panel-heading"),o=document.querySelectorAll(".construct-btn"),n=document.getElementById("collapseOne"),l=document.getElementById("collapseOne-two");n.classList.remove("in"),l.classList.remove("in");document.addEventListener("click",n=>{let l=n.target;l.closest(".panel-heading")?(l=l.closest(".panel-heading"),n.preventDefault(),t.forEach((t,o)=>{l===t&&(t=>{for(let o=0;o<e.length;o++)t===o?e[o].classList.toggle("in"):e[o].classList.remove("in")})(o)})):l.closest(".construct-btn")&&(l=l.closest(".construct-btn"),n.preventDefault(),o.forEach((t,n)=>{l===t&&(t=>{for(let n=0;n<o.length;n++)t===n&&(e[n].classList.toggle("in"),e[n+1].classList.toggle("in"))})(n)}))})};var l=()=>{const e=document.getElementById("myonoffswitch"),t=document.getElementById("myonoffswitch-two"),o=document.querySelectorAll(".select-box"),n=document.querySelectorAll(".title-text"),l=document.getElementById("calc-result"),r=document.getElementById("accordion"),s=document.querySelectorAll(".form-control"),c=document.querySelector("#collapseFour input");document.querySelector("#collapseFour button");(new class{constructor(){this.bodyCount=0,this.bodyDiameterOne=0,this.bodyDiameterTwo=0,this.ringsCountOne=0,this.ringsCountTwo=0,this.distance=0,this.bodyBottom=0,this.totalCount=0}run(){this.bodyCountChecker(),this.diameterPercentOne(),this.ringsPercentOne(),this.diameterPercentTwo(),this.ringsPercentTwo(),this.getBodyBottom(),this.getDistance(),this.getTotalCount(),this.showTotalCount(),this.eventListeners()}showTotalCount(){l.value=this.getTotalCount()}getTotalCount(){const e=this.bodyDiameterOne+this.bodyDiameterTwo,t=this.ringsCountOne+this.ringsCountTwo,o=this.bodyCount+e+t+this.bodyBottom;return this.totalCount=o,o}bodyCountChecker(){e.checked?(this.bodyCount=1e4,n[1].style.display="none",o[2].style.display="none",o[3].style.display="none"):(this.bodyCount=15e3,n[1].style.display="block",o[2].style.display="inline-block",o[3].style.display="inline-block")}diameterPercentOne(){if("1.4 метра"===s[0].value){const e=0;this.bodyDiameterOne=e}else if("2 метра"===s[0].value){let e=Math.floor(.2*this.bodyCount);this.bodyDiameterOne=e}}ringsPercentOne(){if("1 штука"===s[1].value){const e=0;this.ringsCountOne=e}else if("2 штуки"===s[1].value){let e=Math.floor(.3*this.bodyCount);this.ringsCountOne=e}else if("3 штуки"===s[1].value){let e=Math.floor(.5*this.bodyCount);this.ringsCountOne=e}}diameterPercentTwo(){if("1.4 метра"===s[2].value){const e=0;this.bodyDiameterTwo=e}else if("2 метра"===s[2].value){let e=Math.floor(.2*this.bodyCount);this.bodyDiameterTwo=e}}ringsPercentTwo(){if("1 штука"===s[3].value){const e=0;this.ringsCountTwo=e}else if("2 штуки"===s[3].value){let e=Math.floor(.3*this.bodyCount);this.ringsCountTwo=e}else if("3 штуки"===s[3].value){let e=Math.floor(.5*this.bodyCount);this.ringsCountTwo=e}}getBodyBottom(){e.checked?t.checked?this.bodyBottom=1e3:this.bodyBottom=0:t.checked?this.bodyBottom=2e3:this.bodyBottom=0}getDistance(){this.distance=+c.value}eventListeners(){r.addEventListener("change",()=>{this.bodyCountChecker(),this.diameterPercentOne(),this.ringsPercentOne(),this.diameterPercentTwo(),this.ringsPercentTwo(),this.getBodyBottom(),this.getTotalCount(),this.showTotalCount()}),c.addEventListener("input",this.getDistance.bind(this))}}).run()};var r=()=>{const e=document.createElement("div"),t=document.querySelectorAll("form"),o=document.querySelectorAll("input");document.querySelector(".director-form");e.style.cssText="font-size: 28px;\n                font-family: 'MuseoSansCyrl_med', sans-serif;\n                                            line-height: 48px;\n                                            text-align: center;\n                                            color: #f28c07;\n                                            width: 600px;\n                                            display: block;\n                                            padding: 100px;\n                                            position: fixed;\n                                            top: 25%;\n                                            left: 50%;\n                                            z-index: 99;\n                                            transform: translateX(-50%);\n                                            background: rgba(255,255,255, 0.8);\n                                            border-radius: 5px;";(()=>{const e=document.getElementById("collapseFour").querySelector("input");o.forEach(t=>{t.addEventListener("input",()=>{t.matches(".phone-user")?t.value=t.value.replace(/[^)(0-9\+\-]/g,""):t.value=e===t?t.value.replace(/[^0-9]/g,""):t.value.replace(/[^?!\-,.а-яА-ЯёЁ\s]/g,"")})})})();t.forEach(t=>{t.addEventListener("submit",n=>{n.preventDefault(),document.body.append(e),setTimeout(()=>{e.remove()},3e3);const l=new FormData(t);let r={};l.forEach((e,t)=>{r[t]=e});e.textContent="Идёт загрузка...",(e=>fetch("./server.php",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}))(r).then(t=>{if(200!==t.status)throw new Error("Status network: "+t.status);e.textContent="Заявка принята"}).catch(t=>{e.textContent="Произошла ошибка. Попробуйте ещё раз",console.error(t)}),o.forEach(e=>{e.value=""})})})};(()=>{const e=document.querySelector(".popup-call"),t=e.querySelector(".popup-content"),o=document.querySelector(".popup-discount"),n=o.querySelector(".popup-content"),l=document.querySelector(".popup-check"),r=l.querySelector(".popup-content"),s=document.querySelector(".popup-consultation"),c=s.querySelector(".popup-content"),i=document.querySelectorAll(".shadow-block"),u=document.querySelectorAll("input"),a=document.querySelector(".director-form"),d=a.querySelector("input"),p=e.querySelector(".popup-close"),y=o.querySelector(".popup-close"),h=l.querySelector(".popup-close"),m=s.querySelector(".popup-close"),f=e.querySelector(".capture-form-btn"),b=o.querySelector(".capture-form-btn"),g=l.querySelector(".capture-form-btn"),v=s.querySelector(".capture-form-btn"),S=e.querySelectorAll("input"),C=o.querySelectorAll("input"),q=l.querySelectorAll("input"),w=s.querySelectorAll("input"),T=(s.querySelector(".capture-form"),e=>{let t=-70,o=()=>{t+=8,e.style.top=t+"%",t<=20&&requestAnimationFrame(o)};o()}),x=t=>{const n=e.closest(".popup"),r=o.closest(".popup"),c=l.closest(".popup"),i=s.closest(".popup");let u=20,a=()=>{u-=10,t.style.top=u+"%",u>=-70?requestAnimationFrame(a):(n.style.display="none",r.style.display="none",c.style.display="none",i.style.display="none")};a()},k=()=>{u.forEach(e=>{e.value=""})};document.addEventListener("click",u=>{let O=u.target;O===p?(u.preventDefault(),x(t),k()):O===y?(u.preventDefault(),x(n),k()):O===h?(u.preventDefault(),x(r),k()):O===m&&(u.preventDefault(),x(c),k()),O===f&&""!==S[0].value&&(console.log("ИМЯ"),console.log(S[0].value),""!==S[1].value&&(console.log("ТЕЛЕФОН"),console.log(S[1].value),x(t))),O===b&&""!==C[0].value&&""!==C[1].value&&x(n),O===g&&""!==q[0].value&&""!==q[1].value&&x(r),O.matches(".consultation-btn")&&""!==d.value&&(u.preventDefault(),s.style.display="block",T(c));const E=document.createElement("div");if(E.style.cssText="font-size: 28px;\n            font-family: 'MuseoSansCyrl_med', sans-serif;\n                                        line-height: 48px;\n                                        text-align: center;\n                                        color: #f28c07;\n                                        width: 600px;\n                                        display: block;\n                                        padding: 100px;\n                                        position: fixed;\n                                        top: 25%;\n                                        left: 50%;\n                                        z-index: 99;\n                                        transform: translateX(-50%);\n                                        background: rgba(255,255,255, 0.8);\n                                        border-radius: 5px;",O===v){u.preventDefault();const e=new FormData(a);if(""!==w[0].value&&(e.append("user_name",w[0].value),""!==w[1].value)){e.append("user_phone",w[1].value);let t={};e.forEach((e,o)=>{t[o]=e}),document.body.append(E),setTimeout(()=>{E.remove()},3e3);const o=e=>fetch("./server.php",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});E.textContent="Идёт загрузка...",o(t).then(e=>{if(200!==e.status)throw new Error("Status network: "+e.status);E.textContent="Заявка принята"}).catch(e=>{E.textContent="Произошла ошибка. Попробуйте ещё раз",console.error(e)}),console.log(t),x(c),k()}}O.matches(".call-btn")&&(O.matches(".construct-btn")?(o.style.display="block",T(n)):(e.style.display="block",T(t))),O.matches(".popup-call")?x(t):O.matches(".popup-discount")?x(n):O.matches(".popup-consultation")?x(c):O.matches(".popup-check")&&x(r),O.matches(".add-sentence-btn")&&(O.style.display="none",i.forEach(e=>{const t=e.parentElement;t.classList.remove("hidden"),t.classList.remove("visible-sm-block")})),O.matches(".discount-btn")&&(o.style.display="block",T(n)),O.matches(".check-btn")&&(l.style.display="block",T(r))})})(),n(),l(),r()}]);